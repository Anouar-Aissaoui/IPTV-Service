<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0, viewport-fit=cover, user-scalable=yes" />
    
    <!-- Verification Meta Tags -->
    <meta name="google-site-verification" content="-9tOh9Oe5dOljUAOkEsn23HsiUTS8QB5MMvwzU-AQgM" />
    <meta name="msvalidate.01" content="CEC29E9356C1B062CC9637E64D68C778" />
    <meta name="yandex-verification" content="6ce572159d57eed6" />
    <meta name="p:domain_verify" content="3a2a2b5cfa350d7c0ecf716e9b2931d7"/>
    <meta name="have-i-been-pwned-verification" value="dweb_obrm7y8o9q17x8irqakklb62" />
    
    <!-- Enhanced SEO Meta Tags -->
    <meta name="keywords" content="buy IPTV, IPTV service, best IPTV service, IPTV subscription, premium IPTV, HD IPTV service, streaming TV channels, live TV streaming, USA IPTV service, affordable IPTV subscription, 4K IPTV, sports streaming" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#F97316" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <!-- Enhanced Language Detection Script -->
    <script>
      // Improved language detection
      const detectUserLanguage = () => {
        const path = window.location.pathname;
        const browserLang = navigator.language.toLowerCase();
        const supportedLanguages = ['en', 'es', 'fr', 'de'];
        
        // Check path first for explicit language selection
        if (path.startsWith('/es')) return 'es';
        if (path.startsWith('/fr')) return 'fr';
        if (path.startsWith('/de')) return 'de';
        
        // Check browser language
        const shortLang = browserLang.split('-')[0];
        if (supportedLanguages.includes(shortLang)) {
          return shortLang;
        }
        
        return 'en'; // Default fallback
      };

      // Set html lang attribute and redirect if needed
      const userLang = detectUserLanguage();
      document.documentElement.lang = userLang;
      
      // Add noindex meta tag for preview domains
      if (window.location.hostname.includes('preview--clone-landing-tech') || 
          window.location.hostname.includes('lovable.app')) {
        document.querySelector('meta[name="robots"]').content = 'noindex, nofollow';
      }
    </script>
    
    <!-- Enhanced Language Alternates with Region -->
    <link rel="alternate" href="https://www.iptvservice.site" hreflang="x-default" />
    <link rel="alternate" href="https://www.iptvservice.site" hreflang="en-US" />
    <link rel="alternate" href="https://www.iptvservice.site/en-gb" hreflang="en-GB" />
    <link rel="alternate" href="https://www.iptvservice.site/en-ca" hreflang="en-CA" />
    <link rel="alternate" href="https://www.iptvservice.site/en-au" hreflang="en-AU" />
    <link rel="alternate" href="https://www.iptvservice.site/es" hreflang="es" />
    <link rel="alternate" href="https://www.iptvservice.site/es-mx" hreflang="es-MX" />
    <link rel="alternate" href="https://www.iptvservice.site/es-ar" hreflang="es-AR" />
    <link rel="alternate" href="https://www.iptvservice.site/fr" hreflang="fr-FR" />
    <link rel="alternate" href="https://www.iptvservice.site/fr-ca" hreflang="fr-CA" />
    <link rel="alternate" href="https://www.iptvservice.site/fr-be" hreflang="fr-BE" />
    <link rel="alternate" href="https://www.iptvservice.site/de" hreflang="de-DE" />
    <link rel="alternate" href="https://www.iptvservice.site/de-at" hreflang="de-AT" />
    <link rel="alternate" href="https://www.iptvservice.site/de-ch" hreflang="de-CH" />
    
    <!-- Enhanced Regional Meta Tags -->
    <meta name="geo.region" content="US" />
    <meta name="geo.position" content="37.09024;-95.712891" />
    <meta name="ICBM" content="37.09024, -95.712891" />
    <meta name="geo.placename" content="United States" />
    
    <!-- Open Graph Tags -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="es_ES" />
    <meta property="og:locale:alternate" content="fr_FR" />
    <meta property="og:locale:alternate" content="de_DE" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Best IPTV Service Provider | Buy IPTV In USA, UK & Worldwide" />
    <meta property="og:description" content="Looking to Buy IPTV? Choose the best IPTV provider offering affordable services in USA, UK & Worldwide with 24K+ channels. Subscribe now!" />
    <meta property="og:image" content="/iptv-subscription.png" />
    <meta property="og:url" content="https://www.iptvservice.site" />
    <meta property="og:site_name" content="Best IPTV Service Provider" />
    
    <!-- Twitter Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Best IPTV Service Provider | Buy IPTV In USA, UK & Worldwide" />
    <meta name="twitter:description" content="Looking to Buy IPTV? Choose the best IPTV provider offering affordable services in USA, UK & Worldwide with 24K+ channels. Subscribe now!" />
    <meta name="twitter:image" content="/iptv-subscription.png" />
    
    <!-- Additional Meta Tags -->
    <meta name="author" content="Best IPTV Service" />
    <meta name="geo.region" content="US" />
    <meta name="geo.placename" content="United States" />
    <meta name="geo.position" content="37.09024;-95.712891" />
    <meta name="ICBM" content="37.09024, -95.712891" />
    <meta name="theme-color" content="#F97316" />
    
    <!-- MetaManager Pixel -->
    <script async src="https://pixel.metamanager.io/mm.js?id=MMP-0WDNRQJ" type="text/javascript"></script>
    
    <!-- Enhanced Resource Hints -->
    <link rel="preload" href="/src/index.css" as="style" />
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" as="style" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link rel="preconnect" href="https://cdn.gpteng.co" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
    <link rel="dns-prefetch" href="https://cdn.gpteng.co" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    
    <!-- Preload Critical Assets -->
    <link rel="preload" href="/devices.png" as="image" fetchpriority="high" />
    <link rel="preload" href="/iptv-subscription.png" as="image" fetchpriority="high" />
    <link rel="preload" href="/src/main.tsx" as="script" />
    <link rel="preload" href="https://cdn.gpteng.co/gptengineer.js" as="script" />
    
    <!-- Critical CSS -->
    <style>
      /* Inline critical CSS */
      :root {
        --background: 0 0% 0%;
        --foreground: 0 0% 100%;
        --primary: 24 95% 53%;
      }
      body {
        margin: 0;
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
      }
      .critical-hidden {
        opacity: 0;
        visibility: hidden;
      }
    </style>
    
    <!-- Site Links -->
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <link rel="alternate" hreflang="en" href="https://www.iptvservice.site" />
    <link rel="alternate" hreflang="x-default" href="https://www.iptvservice.site" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    
    <!-- Add Space Grotesk Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Plausible Analytics -->
    <script defer data-domain="iptvservice.site" src="https://plausible.io/js/script.file-downloads.hash.outbound-links.pageview-props.revenue.tagged-events.js"></script>
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-load-image/5.16.0/load-image.min.js" defer></script>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Load non-critical CSS
      const loadNonCriticalCSS = () => {
        const links = document.querySelectorAll('link[rel="stylesheet"][media="print"]');
        links.forEach(link => {
          link.onload = () => link.media = 'all';
        });
      };
      
      // Initialize service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
              console.log('ServiceWorker registration successful:', registration.scope);
            })
            .catch((error) => {
              console.log('ServiceWorker registration failed:', error);
            });
        });
      }
      
      // Load non-critical resources after page load
      window.addEventListener('load', () => {
        loadNonCriticalCSS();
      });
    </script>
  </body>
</html>
